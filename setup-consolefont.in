#!/bin/sh

PROGRAM=setup-consolefont
VERSION=@VERSION@

PREFIX=
. $PREFIX/lib/libusralpine.sh

FONTFILE=/etc/conf.d/consolefont

echo "Add terminus-font"
apk add terminus-font || exit 1

echo "Configure font"
setfont /usr/share/consolefonts/ter-132n.psf.gz || exit 2

cat >$FONTFILE <<-__EOF__
# The consolefont service is not activated by default. If you need to
# use it, you should run "rc-update add consolefont boot" as root.
#
# consolefont specifies the default font that you'd like Linux to use on the
# console.  You can find a good selection of fonts in /usr/share/consolefonts;
consolefont="default8x16.psf.gz"

# consoletranslation is the charset map file to use.  Leave commented to use
# the default one.  Have a look in /usr/share/consoletrans for a selection of
# map files you can use.
#consoletranslation="8859-1_to_uni.trans"

# alpine-user-conf: setup-consolefont
consolefont="ter-132n.psf.gz"
__EOF__

rc-update -q add consolefont boot
